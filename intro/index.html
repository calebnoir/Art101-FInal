<!DOCTYPE html>
<html lang="en">
<head>
	<meta name="UTF-8" content="width=device-width, initial-scale=1.0">
	<title>Art101-Final</title>
	<link rel="stylesheet" type="text/css" href="lab.css">
</head>
<body>
	<div id="intro"></div>
	<div class="container">
		<h1><span class="description"></span></h1>
		<!-- Include the necessary scripts -->
		<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
		<script src="https://unpkg.com/typed.js@2.0.16/dist/typed.umd.js"></script>

		<!--creating audio file object thing-->
		<audio id="myAudio" src="/home/squash/Art101-FInal/intro/mixkit-creaky-door-open-195.wav"></audio>

		<script>
			var typed = new Typed(".description", {
				strings: [
					"You're a college student at a house party.",
					"The music is too loud and you start to feel anxious.",
					"Your friends don't want to leave yet.",
					"So, you go into one of the rooms and sit down at a desk to drink some water.",
					"You're not interested in snooping initially,",
					"but you are tempted to steal something as a consolation for how much this party sucked."
					],


				typeSpeed: 50,
				backSpeed: 20,
				loop: false,

				onComplete: function () {
					setTimeout(function () {
						var startButton = $(".button-container button"); 
						startButton.fadeTo(450, 1); // this tells the button to fade in, i.e) opacity increases, sets duration
					}, 1000);
				}
			});

			// Function to play the audio and open the second page
			function playAudio() {
				const audio = document.getElementById("myAudio");
				audio.play();

				audio.onended = function() {
					// Open the second page here
					//main index.html moved here !!!!!!
					//it will open the second page AFTER the sound plays 
					//or else page will reload and audio will not play
					window.location.href = "../main/index.html"; 
				};
			}
		</script>
		
		<br>
		<br>
		<div class="button-container">
			<button id="openingButton" onclick="playAudio()">Start</button>
		</div>
	</div>
	
</body>
</html>
